---
import Layout from "@layouts/Layout.astro";
import "@styles/home.css";
import type { HomePageData } from "../types";
import HeroSection from "@components/HeroSection.astro";
import ServiceSection from "@components/ServiceSection.astro";
import { getHomePageData } from "@lib/query";
import ServiceConstructionSection from "@components/ServiceConstructionSection.astro";

const homePageData: HomePageData = await getHomePageData();
console.log({ homePageData });
const { service_section, construction_service_section } = homePageData;
---

<Layout title="Home Page">
  <!-- Hero Section -->
  <HeroSection />
  <!-- Comentario: El contenido de la sección Hero se podría componentizar como XXXHeroSectionXXX si se reutiliza en varias páginas -->

  <!-- Servicios Section -->
  <ServiceSection seccionServicios={service_section} />
  <!-- Comentario: Cada "card-item" podría ser un componente llamado XXXServiceCardXXX, ya que se repite dentro de la sección de servicios -->

  <ServiceConstructionSection seccionServicios={construction_service_section} />

  <!-- Our Projects Section -->
  <!-- <section id="projects" class="projects">
    <div class="container">
      <div class="section-header">
        <h2>Nuestras Obras</h2>
        <p>
          Te presentamos algunos de nuestros proyectos destacados que demuestran
          nuestra experiencia y calidad en el sector.
        </p>
      </div>

      <div class="portfolio-isotope">
        <ul class="portfolio-flters">
          <li data-filter="*" class="filter-active">Todo</li>
          {
            obras &&
              obras.map((obra, index) => (
                <li data-filter={`.filter-${obra.category?.[0]?.slug}`}>
                  {obra.category?.[0]?.name}
                </li>
              ))
          }
        </ul>

        <div class="row gy-4 portfolio-container">
          {
            obras &&
              obras.map((obra, index) => (
                <div
                  class={`col-lg-4 col-md-6 portfolio-item filter-${obra.category?.[0]?.slug}`}
                >
                  <div class="portfolio-content h-100">
                    <img
                      src={obra.imagen}
                      class="img-fluid"
                      alt={obra.post_title}
                    />
                    <div class="portfolio-info">
                      <h4>{obra.post_title}</h4>
                      <p>{obra.descripcion}</p>
                      <a href={obra.imagen} class="glightbox preview-link">
                        <i class="bi bi-zoom-in" />
                      </a>
                      <a href={`/obras/${obra.slug}`} class="details-link">
                        <i class="bi bi-link-45deg" />
                      </a>
                    </div>
                  </div>
                </div>
              ))
          }
        </div>
      </div>
    </div>
  </section> -->
  <!-- Comentario: El "portfolio-item" se podría componentizar como XXXProjectItemXXX para reutilizar la estructura en otras secciones similares -->

  <!-- Clients Section -->
  <!-- <section id="recent-blog-posts" class="recent-blog-posts section-bg">
    <div class="container">
      <div class="section-header">
        <h2>Nuestros clientes</h2>
      </div>
      <div class="row gy-5">
        {
          clientes &&
            clientes.map((cliente, index) => (
              <div class="col-xl-2 col-md-3">
                <div class="post-item position-relative h-100">
                  <div class="post-img position-relative overflow-hidden">
                    <img src={cliente.imagen} class="img-fluid w-100" alt="" />
                  </div>
                </div>
              </div>
            ))
        }
      </div>
    </div>
  </section> -->
  <!-- Comentario: Cada "post-item" de clientes podría convertirse en un componente llamado XXXClientItemXXX si hay reutilización -->

  <!-- Get Started Section -->
  <!-- <section id="get-started" class="get-started section-bg">
    <div class="container">
      <div class="row justify-content-between gy-4">
        <div class="col-lg-6 d-flex align-items-center">
          <div class="content">
            <h3>{seccionInicio?.titulo}</h3>
            <p>{seccionInicio?.texto}</p>
          </div>
        </div>

        <div class="col-lg-5">
          <form action="forms/quote.php" method="post" class="php-email-form">
            <h3>Obtén un presupuesto</h3>
            <p>
              Estamos listos para brindarte un presupuesto personalizado acorde
              a tus necesidades.
            </p>
            <div class="row gy-3">
              <div class="col-md-12">
                <input
                  type="text"
                  name="name"
                  class="form-control"
                  placeholder="Name"
                  required
                />
              </div>
              <div class="col-md-12">
                <input
                  type="email"
                  class="form-control"
                  name="email"
                  placeholder="Email"
                  required
                />
              </div>
              <div class="col-md-12">
                <input
                  type="text"
                  class="form-control"
                  name="phone"
                  placeholder="Phone"
                  required
                />
              </div>
              <div class="col-md-12">
                <textarea
                  class="form-control"
                  name="message"
                  rows="6"
                  placeholder="Message"
                  required></textarea>
              </div>
              <div class="col-md-12 text-center">
                <button type="submit">Obtener un presupuesto</button>
              </div>
            </div>
          </form>
        </div>
      </div>
    </div>
  </section> -->
  <!-- Comentario: El formulario de presupuesto podría componentizarse como XXXQuoteFormXXX si se reutiliza en más páginas -->
</Layout>

<style>
  /* Puedes agregar aquí los estilos relevantes */
</style>
